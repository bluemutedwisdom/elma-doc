

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>About &mdash; ELMA 0.2.6 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.2.6',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="author" title="About these documents" href="#" />
    <link rel="top" title="ELMA 0.2.6 documentation" href="index.html" />
    <link rel="next" title="Changelog, current releases and notes" href="changelog.html" />
    <link rel="prev" title="Welcome to ELMA" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="changelog.html" title="Changelog, current releases and notes"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to ELMA"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">ELMA 0.2.6 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="about">
<h1>About<a class="headerlink" href="#about" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>ELMA is a <strong>logging and syslog framework</strong> complemented by a range of
free and open-source tools that can help you aggregate and deliver
metrics, analytics and vital performance data.</p>
<p>Log normalization and a <a class="reference external" href="_images/kibana-search.png">web-based query
interface</a> makes searching billions of log
events for arbitrary strings as easy as searching the web.</p>
<p>Provided as an <a class="reference external" href="http://susestudio.com/a/TOYySW/enterprise-log-management-appliance--2">preinstalled openSUSE
appliance</a>
which can be <a class="reference external" href="manuals/installation">deployed and customized</a> in a few
minutes ELMA comes out of the box with all necessary services, <a class="reference external" href="manuals/configuration">fine
customization and performance tuning</a> and allows
easy <a class="reference external" href="manuals/administration.html">adminstration</a> and
<a class="reference external" href="manuals/operation.html">operations</a>.</p>
<p>Issues, problems, enhancements and feature requests are managed with
<a class="reference external" href="http://code.google.com/p/enterprise-log-management-appliance/issues/list">ELMA project
workflow</a>.
For extended communication please visit <a class="reference external" href="https://groups.google.com/forum/?fromgroups#!forum/enterprise-log-management-appliance">ELMA discussion
group</a>.</p>
<p>At the moment we review and completly rewrite our wiki - <strong>Every help is
welcome</strong>.</p>
</div>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<div class="section" id="ingredients">
<h3>Ingredients<a class="headerlink" href="#ingredients" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="http://susestudio.com/a/TOYySW/enterprise-log-management-appliance--2">ELMA</a>
- Enterprise Log Management Appliance</li>
<li><a class="reference external" href="http://www.rsyslog.com/">rsyslog</a> - Enhanced syslogd for Linux
and Unix</li>
<li><a class="reference external" href="http://www.elasticsearch.org/overview/logstash/">logstash</a> -
Managing events and logs</li>
<li><a class="reference external" href="http://httpd.apache.org/">Apache httpd</a> - Support SSL, basic
authentication and log all or some incoming requests in plain text or
json formats</li>
<li><a class="reference external" href="http://www.elasticsearch.org/overview/elasticsearch/">ElasticSearch</a>
- Distributed, RESTful and full-text indexing and search engine based
on <a class="reference external" href="https://lucene.apache.org">Apache Lucene</a></li>
<li><a class="reference external" href="https://github.com/mobz/elasticsearch-head#readme">ElasticSearch
Head</a> -
Browsing and interacting with ElasticSearch clusters</li>
<li><a class="reference external" href="https://github.com/lukas-vlcek/bigdesk/#readme">ElasticSearch
BigDesk</a> - Live
charts and statistics for ElasticSearch clusters</li>
<li><a class="reference external" href="https://github.com/karmi/elasticsearch-paramedic#readme">ElasticSearch
Paramedic</a>
- Monitors and inspect ElasticSearch clusters</li>
<li><a class="reference external" href="http://www.elasticsearch.org/overview/kibana/">Kibana</a> - User
frontend that allows search, graph, analyze and otherwise make sense
of a mountain of logs</li>
</ul>
</div>
<div class="section" id="cookbook">
<h3>Cookbook<a class="headerlink" href="#cookbook" title="Permalink to this headline">¶</a></h3>
<p><strong>Ship logs from any source</strong>, get the right timestamp, parse and
normalize them into structured JSON format, index them:</p>
<p><img alt="image0" src="_images/syslog-infrastructure.png" /></p>
</div>
<div class="section" id="menue">
<h3>Menue<a class="headerlink" href="#menue" title="Permalink to this headline">¶</a></h3>
<p><strong>All your logs</strong> and other event data from all over your infrastructure
<strong>in a central place</strong> - <a class="reference external" href="_images/kibana-search.png">Search, graph and
analyse</a> them.</p>
<p><img alt="image1" src="_images/kibana-chart.png" /></p>
</div>
</div>
<div class="section" id="details">
<h2>Details<a class="headerlink" href="#details" title="Permalink to this headline">¶</a></h2>
<div class="section" id="syslog-evolution">
<h3>Syslog evolution<a class="headerlink" href="#syslog-evolution" title="Permalink to this headline">¶</a></h3>
<p>Rsyslog default flat file ASCII log format is not exactly the most
efficient way for searching large volumes of data. For longer historical
retention as you can see below - it&#8217;s not so bad.</p>
<p>Logging into traditional relational databases is not scalable if your
amount of data gets higher then 1.000 - 2.000 events/second because of
missing full-text indexing and poor full-text search capabilities -
<strong>Search of Death</strong>.</p>
<p>Projects like <a class="reference external" href="http://sphinxsearch.com/">Sphinx</a> addresses this
issues but implementations are complicated. You have to adapt all SQL
based applications.</p>
<p>Logging is mostly done too unstructured. No consistent application log
schema or syntax, no consistent way of routing, filtering, indexing and
searching. <strong>No real standard on how to format and structure data</strong> on a
syslog message.</p>
<p>Log normalization with <a class="reference external" href="http://www.rsyslog.com/normalizer-first-steps-for-mmnormalize/">rsyslog
mmnormalize</a>
helps to parse unstructured messages but further limitations are the
<strong>static database models</strong>.</p>
<p>It&#8217;s <strong>time for change</strong>.</p>
</div>
<div class="section" id="next-generation-databases">
<h3>Next generation databases<a class="headerlink" href="#next-generation-databases" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="http://www.elasticsearch.org">ElasticSearch</a> is a new data storage
technology for dealing with tons of data. It&#8217;s also a search engine
built on top of <a class="reference external" href="https://lucene.apache.org">Apache&#8217;s Lucene project</a>.
It scales very well, both for distributed full-text indexing and
distributed searching.</p>
<p>It&#8217;s search engine&#8217;s data model is <a class="reference external" href="http://json.org/">JSON</a>, which is
the de-facto standard for representing data these days. It&#8217;s roots lie
with schema-free and <a class="reference external" href="http://en.wikipedia.org/wiki/Document-oriented_database">document-oriented
databases</a>,
and as shown by the <a class="reference external" href="http://en.wikipedia.org/wiki/NoSQL">NoSQL
movement</a>, this model proves very
effective for building applications.</p>
<p>Moreover, with JSON it is simple to provide <a class="reference external" href="http://en.wikipedia.org/wiki/Semi-structured_model">semi-structured
data</a> with
complex entities as well as being programming language neutral with
first-level parser support.</p>
</div>
<div class="section" id="common-event-expression-cee-enhanced-syslog">
<h3>Common Event Expression - CEE enhanced syslog<a class="headerlink" href="#common-event-expression-cee-enhanced-syslog" title="Permalink to this headline">¶</a></h3>
<p>On <a class="reference external" href="https://fedorahosted.org/lumberjack/">syslog community</a> also
interesting stuff is happening and more precisely on the topic of syslog
format extension and structuring syslog data.</p>
<p>The main idea about <a class="reference external" href="http://blog.gerhards.net/2012/02/announcing-project-lumberjack.html">structuring syslog
messages</a>
is to represent them using JSON along with the current free form strings
to prevent backward compatibility breakage. Therefore this format has to
be normalized and extended so that syslog softwares such as rsyslog and
syslog-ng can directly understand them. That&#8217;s where <a class="reference external" href="http://cee.mitre.org">CEE enhanced
syslog</a> and
<a class="reference external" href="https://fedorahosted.org/lumberjack/">Lumberjack</a> kick in.</p>
</div>
<div class="section" id="our-goal">
<h3>Our goal<a class="headerlink" href="#our-goal" title="Permalink to this headline">¶</a></h3>
<p>The first part should be the rulebase which holds format representations
of expected log messages. This permits very high performance
normalization of semantically equal messages from different devices (and
thus in different syntaxes).</p>
<p>Parse and normalize events into structured JSON format via rsyslog
mmnormalize and mmjsonparse.</p>
<p>Rsyslog new omelasticsearch module ships your logs nearly in real time
into a ElasticSearch cluster by using ElasticSearch bulk API for
indexing. With bulk mode, message processing is much faster, especially
if large loads are to be processed.</p>
<p>Kibana user frontend queries the REST interface of ElasticSearch. It
provides <strong>enterprise wide</strong>
full-text search and allows you to plot,
calculate and drill down into your rsyslog <a class="reference external" href="http://www.elasticsearch.org/tutorials/using-elasticsearch-for-logs/">timebased indexed logging
data</a>.</p>
<p><img alt="image2" src="_images/kibana-search.png" /></p>
<p><strong>Enjoy the performance</strong>, it&#8217;s very awesome - really.</p>
</div>
<div class="section" id="why-not-just-archive-everything-in-elasticsearch">
<h3>Why not just archive everything in ElasticSearch?<a class="headerlink" href="#why-not-just-archive-everything-in-elasticsearch" title="Permalink to this headline">¶</a></h3>
<p>That&#8217;s an option, however rsyslog flat files are much easier to handle.
Compressed rsyslog flat files are 90% or less of the size of compressed
ElasticSearch documents.</p>
<p>Assuming an average message lenght of 244 Byte per message and 10.000
events per second the following projection can give you an idea of
difficulties for suitable filesystem sizing:</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="13%" />
<col width="10%" />
<col width="10%" />
<col width="9%" />
<col width="9%" />
<col width="9%" />
<col width="9%" />
<col width="11%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>&nbsp;</td>
<td><strong>Benchmark</strong></td>
<td><strong>second</strong></td>
<td><strong>minute</strong></td>
<td><strong>hour</strong></td>
<td><strong>day</strong></td>
<td><strong>week</strong></td>
<td><strong>month</strong></td>
<td><strong>year</strong></td>
</tr>
<tr class="row-even"><td><strong>Messages</strong></td>
<td>&nbsp;</td>
<td>10 k</td>
<td>600 k</td>
<td>36 M</td>
<td>864 M</td>
<td>6.048 M</td>
<td>181.440 M</td>
<td>2.177.280 M</td>
</tr>
<tr class="row-odd"><td><strong>Compressed data size</strong></td>
<td>omfile</td>
<td>0.03 MB</td>
<td>1.74 MB</td>
<td>104.40 MB</td>
<td>2.45 GB</td>
<td>17.13 GB</td>
<td>68.51 GB</td>
<td>822.15 GB</td>
</tr>
<tr class="row-even"><td><strong>Compressed data size</strong></td>
<td>omelasticsearch</td>
<td>3.50 MB</td>
<td>210.00 MB</td>
<td>12.30 GB</td>
<td>295.31 GB</td>
<td>2.02 TB</td>
<td>8.07 TB</td>
<td>96.90 TB</td>
</tr>
</tbody>
</table>
<p>For further details have a look into ELMA <a class="reference external" href="tests">performance and compression
tests</a>.</p>
<p>If you have a large volume of logs and you intend on keeping them around
for compliance reasons for a long period of time archiving in rsyslog
flat files allows longer historical retention.</p>
</div>
<div class="section" id="why-elma">
<h3>Why ELMA?<a class="headerlink" href="#why-elma" title="Permalink to this headline">¶</a></h3>
<p>Provided as an <a class="reference external" href="http://susestudio.com/a/TOYySW/enterprise-log-management-appliance--2">preinstalled openSUSE
appliance</a>
which can be <a class="reference external" href="manuals/installation">deployed and customized</a> in a few
minutes ELMA comes out of the box with all necessary services, <a class="reference external" href="manuals/configuration">fine
customization and performance tuning</a> and allows
easy <a class="reference external" href="manuals/administration.html">adminstration</a> and
<a class="reference external" href="manuals/operation.html">operations</a>:</p>
<ul class="simple">
<li>Parse events into structured JSON format</li>
<li>Log router - route between different input and output sources</li>
<li>Daily based indexes</li>
<li>Optimization of time-based indices</li>
<li>Logrotation (delete old indexes)</li>
<li>Basic HTTP authentication on all backends and frontends</li>
<li>Apache authentication, authorisation and accounting (AAA)
functionality</li>
<li>LDAP and RADIUS integration</li>
<li>SSL Offloading</li>
<li>High availability</li>
<li>Loadbalancing</li>
<li>Single Logon</li>
<li>Admin interfaces</li>
<li>Design your own custom dashboards with configurable panels</li>
<li>System monitoring due to Nagios Core integration</li>
<li>Rsyslog and ElasticSearch and other serviceable probes</li>
<li>Performance - ext4 filesystem</li>
<li>Operation - bind, ntp, snmp and snmptrap integration</li>
<li><a class="reference external" href="tests">performance and compression tests</a></li>
<li>Flexible integrations - <a class="reference external" href="manuals/requirements.html">vmesx, xen, hardware</a></li>
<li>Vertical and horizontal scalable</li>
</ul>
<p>Look at ELMA <a class="reference external" href="manuals/loadbalancing.html">Loadbalancing and Redundancy Guide</a>
- a good starting point for understanding the communication matrix
inside ELMA.</p>
</div>
<div class="section" id="howto-integrate-into-your-existing-logging-and-monitoring-infrasructure">
<h3>Howto integrate into your existing logging and monitoring infrasructure?<a class="headerlink" href="#howto-integrate-into-your-existing-logging-and-monitoring-infrasructure" title="Permalink to this headline">¶</a></h3>
<p>Many organizations already have centralized syslog server and are
comfortable with collecting logs this way. There are many good reasons
to do this even if you want to use an infrastructure like ELMA provides.
Simply forward these syslog events to the central ELMA infrastructure to
combine the benefits of both sides without affecting legacy
applications.</p>
<p><strong>Further event forwarding to your favorite SIEM system make sense!</strong></p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">About</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#overview">Overview</a><ul>
<li><a class="reference internal" href="#ingredients">Ingredients</a></li>
<li><a class="reference internal" href="#cookbook">Cookbook</a></li>
<li><a class="reference internal" href="#menue">Menue</a></li>
</ul>
</li>
<li><a class="reference internal" href="#details">Details</a><ul>
<li><a class="reference internal" href="#syslog-evolution">Syslog evolution</a></li>
<li><a class="reference internal" href="#next-generation-databases">Next generation databases</a></li>
<li><a class="reference internal" href="#common-event-expression-cee-enhanced-syslog">Common Event Expression - CEE enhanced syslog</a></li>
<li><a class="reference internal" href="#our-goal">Our goal</a></li>
<li><a class="reference internal" href="#why-not-just-archive-everything-in-elasticsearch">Why not just archive everything in ElasticSearch?</a></li>
<li><a class="reference internal" href="#why-elma">Why ELMA?</a></li>
<li><a class="reference internal" href="#howto-integrate-into-your-existing-logging-and-monitoring-infrasructure">Howto integrate into your existing logging and monitoring infrasructure?</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Welcome to ELMA</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="changelog.html"
                        title="next chapter">Changelog, current releases and notes</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/about.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="changelog.html" title="Changelog, current releases and notes"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to ELMA"
             >previous</a> |</li>
        <li><a href="index.html">ELMA 0.2.6 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Joerg Heinemann.
    </div>
  </body>
</html>